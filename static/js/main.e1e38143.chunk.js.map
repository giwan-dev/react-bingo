{"version":3,"sources":["actions.ts","Alert.tsx","Player.tsx","App.tsx","serviceWorker.ts","GlobalStyle.ts","helpers.ts","reducers.ts","index.tsx"],"names":["START_GAME","RESET_GAME","ADD_NUMBER","Overlay","styled","div","_templateObject","AlertContainer","_templateObject2","alertPortal","document","getElementById","stopPropagation","e","Alert","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","el","createElement","appendChild","removeChild","_this$props","isVisible","message","onConfirm","react_default","a","onClick","type","ReactDOM","createPortal","renderAlert","React","Component","Container","Player_templateObject","_ref","disabled","PlayerName","h2","Player_templateObject2","_ref2","highlight","TableContainer","_templateObject3","_ref3","Table","table","_templateObject4","Td","td","_templateObject5","_ref4","selected","_ref5","CompleteCollectionContainer","_templateObject6","Player","state","isAlertVisible","num","_this2","onSelectNumber","isActive","player","_sample","setState","_this3","_this$props2","_map","_chunk","row","index","entityList","entity","selectable","isSelected","onClickHandler","makeTdClickHandler","key","handleTdErrorClick","react","join","_this$props$player","matchedIndexList","combination","_this$props3","name","renderTableRows","renderMatchedCombinationList","Alert_Alert","handleAlertConfirm","bind","withConnect","connect","dispatch","addNumber","AppContainer","App_templateObject","Header","header","App_templateObject2","PlayerContainer","main","App_templateObject3","makeAlertMessage","winners","length","concat","currentPlayerIndex","players","onStart","onReset","isNew","playerNodeList","map","src_Player","filter","isWin","Boolean","window","location","hostname","match","GlobalStyle","createGlobalStyle","GlobalStyle_templateObject","makeSequence","multiplier","count","offset","arguments","undefined","_range","BINGO_INDEX_COMBINATION","toConsumableArray","remainder","makeNewBingo","_shuffle","makeNewPlayers","initialState","_fill","Array","store","createStore","action","objectSpread","nextPlayerIndex","newPlayers","list","newTable","newMatchedIndexList","targetList","selectedIndex","_findIndex","value","includes","_every","makeMatchedIndexList","__REDUX_DEVTOOLS_EXTENSION__","render","es","src_GlobalStyle","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.e1e38143.chunk.js","sourcesContent":["export const START_GAME = 'START_GAME';\nexport const RESET_GAME = 'RESET_GAME';\nexport const ADD_NUMBER = 'ADD_NUMBER';\n\nexport type Action = ReturnType<\n  typeof startGame |\n  typeof resetGame |\n  typeof addNumber\n>;\n\n/**\n * 새 게임을 시작하는 액션을 반환합니다.\n */\nexport function startGame() {\n  return {\n    type: START_GAME,\n  } as const;\n}\n\n/**\n * 다시 게임을 시작하는 액션을 반환합니다.ㄴ\n */\nexport function resetGame() {\n  return {\n    type: RESET_GAME,\n  } as const;\n}\n\n/**\n * 숫자를 더하는 액션을 반환합니다.\n * @param num\n */\nexport function addNumber(num: number) {\n  return {\n    num,\n    type: ADD_NUMBER,\n  } as const;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\n\ninterface AlertProps {\n  isVisible: boolean;\n  message: string;\n  onConfirm: React.MouseEventHandler<HTMLElement>;\n}\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n`;\n\nconst AlertContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: auto;\n  width: 500px;\n  height: 80px;\n  border-radius: 5px;\n  padding: 20px;\n  background-color: white;\n  transform: translate(-50%, -50%);\n`;\n\nconst alertPortal = document.getElementById('alert-portal');\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n\nexport default class Alert extends React.Component<AlertProps> {\n  el: HTMLElement|null = null;\n\n  constructor(props: AlertProps) {\n    super(props);\n\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    if (alertPortal !== null && this.el !== null) {\n      alertPortal.appendChild(this.el);\n    }\n\n  }\n\n  componentWillUnmount() {\n    if (alertPortal !== null && this.el !== null) {\n      alertPortal.removeChild(this.el);\n    }\n  }\n\n  private renderAlert() {\n    const { isVisible, message, onConfirm } = this.props;\n\n    if (!isVisible) {\n      return null;\n    }\n\n    return (\n      <Overlay onClick={onConfirm}>\n        <AlertContainer onClick={stopPropagation}>\n          {message}\n          <button\n            type=\"button\"\n            onClick={onConfirm}\n          >\n            확인\n          </button>\n        </AlertContainer>\n      </Overlay>\n    );\n  }\n\n  public render() {\n    if (this.el === null) {\n      return null;\n    }\n\n    return ReactDOM.createPortal(\n      this.renderAlert(),\n      this.el,\n    );\n  }\n}\n","import * as React from 'react';\nimport { chunk as _chunk, map as _map, sample as _sample } from 'lodash';\nimport styled from 'styled-components';\nimport { PlayerData, BingoEntityData } from './typing';\nimport { State } from './reducers';\nimport { Dispatch } from 'redux';\nimport { addNumber } from './actions';\nimport { connect } from 'react-redux';\nimport bind from 'bind-decorator';\nimport Alert from './Alert';\n\ninterface PlayerPropsFromState {\n}\n\ninterface PlayerPropsFromDispatch {\n  onSelectNumber: (num: number) => any;\n}\n\ninterface PlayerProps extends PlayerPropsFromState, PlayerPropsFromDispatch {\n  isActive: boolean;\n  player: PlayerData;\n}\n\ninterface PlayerState {\n  isAlertVisible: boolean;\n}\n\nconst Container = styled.div<{disabled: boolean}>`\n  ${({ disabled }) => disabled && `\n    * {\n      opacity: 0.7;\n    }\n\n    td {\n      cursor: not-allowed;\n    }\n  `}\n`;\n\nconst PlayerName = styled.h2<{highlight: boolean}>`\n  margin-bottom: 10px;\n\n  ${({ highlight }) => highlight && 'color: #fd0d5c;'}\n`;\n\nconst TableContainer = styled.div<{highlight: boolean}>`\n  border-radius: 5px;\n  overflow: hidden;\n  ${({ highlight }) => highlight && 'border: solid 1px #ffd0df;'}\n`;\n\nconst Table = styled.table`\n  border-collapse: collapse;\n`;\n\nconst Td = styled.td<{selected: boolean, disabled: boolean}>`\n  width: 50px;\n  height: 50px;\n  border: solid 1px #eeeeee;\n  padding: 12px;\n  text-align: center;\n  transition: background-color ease-out 0.2s;\n\n  ${({ selected }) => selected && 'color: #fd0d5c' }\n  ${({ disabled }) => disabled ? 'cursor: not-allowed;' : `\n    cursor: pointer;\n\n    &:hover {\n      border: 0;\n      background-color: #ffe3ec;\n    }\n  `}\n`;\n\nconst CompleteCollectionContainer = styled.div`\n  margin-top: 30px;\n`;\n\nclass Player extends React.Component<PlayerProps, PlayerState> {\n  state: PlayerState = {\n    isAlertVisible: false,\n  };\n\n  /**\n   * 번호를 눌렀을 때 처리 함수를 만드는 함수\n   * @param num\n   */\n  private makeTdClickHandler(num: number) {\n    return () => {\n      this.props.onSelectNumber(num);\n    };\n  }\n\n  /**\n   * 잘못된 때에 번호를 눌렀을 때 처리 함수\n   */\n  @bind\n  private handleTdErrorClick() {\n    const { isActive, player } = this.props;\n    if (_sample(player.table) !== null && !isActive) {\n      this.setState({\n        isAlertVisible: true,\n      });\n    }\n  }\n\n  /**\n   * 알림을 확인했을 때 처리 함수\n   */\n  @bind\n  private handleAlertConfirm() {\n    this.setState({\n      isAlertVisible: false,\n    });\n  }\n\n  /**\n   * 보드판 행, 열을 렌더링합니다.\n   */\n  private renderTableRows() {\n    const { isActive, player } = this.props;\n\n    return _map(\n      _chunk(player.table, 5),\n      (row, index) => {\n        // TODO: 코드 정리\n        const entityList = _map(row, (entity, index) => {\n          const selectable = entity !== null && isActive && !entity.isSelected;\n          const onClickHandler = selectable\n            // HACK: selectable에 null 아닌거 들어가므로 보장됨\n            ? this.makeTdClickHandler((entity as BingoEntityData).key)\n            : this.handleTdErrorClick;\n\n          return (\n            <Td\n              key={entity === null ? index : entity.key}\n              disabled={!selectable}\n              selected={entity !== null && entity.isSelected}\n              onClick={onClickHandler}\n            >\n              {entity !== null ? entity.key : ''}\n            </Td>\n          );\n        });\n\n        return (\n          <tr key={row.join('-') + index}>\n            {entityList}\n          </tr>\n        );\n      },\n    );\n  }\n\n  /**\n   * 빙고 맞춘 조합 목록을 렌더링합니다.\n   */\n  private renderMatchedCombinationList() {\n    const { table, matchedIndexList } = this.props.player;\n\n    return _map(\n      _map(\n        matchedIndexList,\n        combination => _map(combination, (index) => {\n          const entity = table[index];\n          return entity !== null ? entity.key : null;\n        }),\n      ),\n      (combination, index) => (\n        <div key={combination.join('-') + index}>\n          {combination.join(', ')}\n        </div>\n      ),\n    );\n  }\n\n  public render() {\n    const { player, isActive } = this.props;\n    const { isAlertVisible } = this.state;\n\n    return (\n      <Container disabled={!isActive}>\n        <PlayerName highlight={isActive}>\n          {player.name}\n        </PlayerName>\n\n        <TableContainer highlight={isActive}>\n          <Table>\n            <tbody>\n              {this.renderTableRows()}\n            </tbody>\n          </Table>\n        </TableContainer>\n\n        <CompleteCollectionContainer>\n          <div>빙고 조합</div>\n          <div>\n            {this.renderMatchedCombinationList()}\n          </div>\n        </CompleteCollectionContainer>\n\n        <Alert\n          isVisible={isAlertVisible}\n          message=\"잘못된 차례입니다.\"\n          onConfirm={this.handleAlertConfirm}\n        />\n      </Container>\n    );\n  }\n}\n\nfunction mapStateToProps(state: State): PlayerPropsFromState {\n  return {\n\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch): PlayerPropsFromDispatch {\n  return {\n    onSelectNumber: num => dispatch(addNumber(num)),\n  };\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default withConnect(Player);\n","import React from 'react';\nimport Player from './Player';\nimport styled from 'styled-components';\nimport { State } from './reducers';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { startGame, resetGame } from './actions';\nimport { PlayerData } from './typing';\nimport Alert from './Alert';\n\ninterface AppPropsFromState {\n  currentPlayerIndex: number|null;\n  players: PlayerData[];\n}\n\ninterface AppPropsFromDispatch {\n  onStart: () => any;\n  onReset: () => any;\n}\n\ntype AppProps = AppPropsFromState & AppPropsFromDispatch;\n\nconst AppContainer = styled.div`\n  margin: 0 auto;\n  max-width: 800px;\n`;\n\nconst Header = styled.header`\n  margin-bottom: 30px;\n`;\n\nconst PlayerContainer = styled.main`\n  display: flex;\n  justify-content: space-between;\n`;\n\nfunction makeAlertMessage(winners: PlayerData[]): string {\n  if (winners.length === 0) {\n    return '';\n  }\n\n  return winners.length > 1 ? '무승부입니다.' : `${winners[0].name} 승리입니다.`;\n}\n\nconst App: React.FC<AppProps> = ({ currentPlayerIndex, players, onStart, onReset }) => {\n  const isNew = currentPlayerIndex === null;\n  const playerNodeList = players.map((player, index) => (\n    <Player\n      key={player.name}\n      player={player}\n      isActive={index === currentPlayerIndex}\n    />\n  ));\n  const winners = players.filter(player => player.isWin);\n\n  return (\n    <AppContainer>\n      <Header>\n        <h1>React + Redux = Bingo</h1>\n        <button\n          type=\"button\"\n          onClick={isNew ? onStart : onReset}\n        >\n          게임 {isNew ? '' : '재'}시작\n        </button>\n      </Header>\n\n      <PlayerContainer>\n        {playerNodeList}\n      </PlayerContainer>\n\n      <Alert\n        isVisible={winners.length > 0}\n        message={makeAlertMessage(winners)}\n        onConfirm={onReset}\n      />\n    </AppContainer>\n  );\n};\n\nfunction mapStateToProps(state: State): AppPropsFromState {\n  return {\n    currentPlayerIndex: state.currentPlayerIndex,\n    players: state.players,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: Dispatch): AppPropsFromDispatch {\n  return {\n    onStart: () => dispatch(startGame()),\n    onReset: () => dispatch(resetGame()),\n  };\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default withConnect(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n`;\n\nexport default GlobalStyle;\n","import { PlayerData, BingoEntityData, BingoTable } from './typing';\nimport {\n  range as _range,\n  map as _map,\n  findIndex as _findIndex,\n  shuffle as _shuffle,\n  chunk as _chunk,\n  sample as _sample,\n  every as _every,\n} from 'lodash';\n\n/**\n * 수열을 만듧니다.\n * @param multiplier 차수\n * @param count 수열의 개수\n * @param offset 상수항\n */\nfunction makeSequence(multiplier: number, count: number, offset: number = 0): number[] {\n  return _map(_range(count), num => num * multiplier + offset);\n}\n\nconst BINGO_INDEX_COMBINATION = [\n  ..._chunk(_range(25), 5), // 가로줄\n  ..._map(_range(5), remainder => makeSequence(5, 5, remainder)), // 세로줄\n  makeSequence(6, 5), // 왼쪽 대각선\n  makeSequence(4, 5, 4), // 오른쪽 대각선\n];\n\n/**\n * 새로운 빙고판을 준비하는 함수\n */\nconst makeNewBingo = () => _map(_shuffle(_range(25)), num => ({\n  key: num + 1,\n  isSelected: false,\n}));\n\n/**\n * 새로운 플레이어 목록을 만드는 함수\n */\nexport function makeNewPlayers(): PlayerData[] {\n  return [\n    {\n      name: 'Player 1',\n      table: makeNewBingo(),\n      matchedIndexList: [],\n      isWin: false,\n    },\n    {\n      name: 'Player 2',\n      table: makeNewBingo(),\n      matchedIndexList: [],\n      isWin: false,\n    },\n  ];\n}\n\n/**\n * 주어진 목록에서 선택한 숫자를 selected로 마킹한 새로운 어레이를 반환합니다.\n * @param list\n * @param selected\n */\nexport function markNewSelected(\n  list: BingoTable,\n  selected: number,\n): BingoTable {\n  if (_sample(list) === null) {\n    return list;\n  }\n\n  return _map(list as BingoEntityData[], (entity) => { // HACK: entity가 null인 케이스 예외 처리 했다\n    if (entity !== null && entity.key === selected) {\n      return {\n        key: entity.key,\n        isSelected: true,\n      } as BingoEntityData;\n    }\n    return entity;\n  });\n}\n\n/**\n * 주어진 목록에서 선택한 숫자가 selected가 되었을 때 빙고가 이뤄진 조합의 목록을 반환한다.\n * 빙고 되는 index의 조합 목록에서 선택한 숫자의 index가 포함된 경우만 필터링하고, 해당 조합만 확인한다.\n * @param list\n * @param selectd\n */\nexport function makeMatchedIndexList(list: BingoTable, selected: number): number[][] {\n  if (_sample(list) === null) {\n    return [];\n  }\n\n  const targetList = list as BingoEntityData[];\n\n  const selectedIndex = _findIndex(targetList, entity => entity.key === selected);\n\n  return BINGO_INDEX_COMBINATION\n  .filter(value => value.includes(selectedIndex))\n  .filter(combination => _every(_map(combination, index => targetList[index].isSelected)));\n}\n","import { Action, ADD_NUMBER, START_GAME, RESET_GAME } from './actions';\nimport { PlayerData } from './typing';\nimport {\n  fill as _fill,\n  map as _map,\n} from 'lodash';\nimport { makeNewPlayers, markNewSelected, makeMatchedIndexList } from './helpers';\n\nexport interface State {\n  currentPlayerIndex: number|null;\n  players: PlayerData[];\n}\n\nconst initialState: State = {\n  currentPlayerIndex: null,\n  players: [\n    {\n      name: 'Player 1',\n      table: _fill(Array(25), null),\n      matchedIndexList: [],\n      isWin: false,\n    },\n    {\n      name: 'Player 2',\n      table: _fill(Array(25), null),\n      matchedIndexList: [],\n      isWin: false,\n    },\n  ],\n};\n\nexport default function rootReducer(state: State = initialState, action: Action): State {\n  switch (action.type) {\n    case START_GAME:\n      return {\n        ...state,\n        currentPlayerIndex: 0,\n        players: makeNewPlayers(),\n      };\n    case RESET_GAME:\n      return {\n        ...initialState,\n        currentPlayerIndex: 0,\n        players: makeNewPlayers(),\n      };\n    case ADD_NUMBER:\n      if (state.currentPlayerIndex === null) {\n        return {\n          ...state,\n          currentPlayerIndex: 0,\n        };\n      }\n\n      const nextPlayerIndex = state.currentPlayerIndex + 1 === state.players.length\n        ? 0\n        : state.currentPlayerIndex + 1;\n      const newPlayers = _map(state.players, (player) => {\n        const newTable = markNewSelected(player.table, action.num);\n        const newMatchedIndexList = [\n          ...player.matchedIndexList,\n          ...makeMatchedIndexList(newTable, action.num),\n        ];\n\n        return {\n          ...player,\n          table: newTable,\n          matchedIndexList: newMatchedIndexList,\n          isWin: newMatchedIndexList.length >= 5,\n        };\n      });\n\n      return {\n        ...state,\n        currentPlayerIndex: newPlayers.filter(player => player.isWin).length > 0\n          ? null\n          : nextPlayerIndex,\n        players: newPlayers,\n      };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport GlobalStyle from './GlobalStyle';\nimport rootReducer from './reducers';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION__: any; // TODO\n  }\n}\n\nconst store = createStore(\n  rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n\nReactDOM.render(\n  (\n    <Provider store={store}>\n      <GlobalStyle />\n      <App />\n    </Provider>\n  ),\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}